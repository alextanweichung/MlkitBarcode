<div class="p-2">
	<ion-segment value="pending" [(ngModel)]="selectedSegment">
		<ion-segment-button value="pending">
			<ion-label>Pending</ion-label>
		</ion-segment-button>
		<ion-segment-button value="completed">
			<ion-label>Completed</ion-label>
		</ion-segment-button>
	</ion-segment>
	<hr class="hr-small">
	<ion-list class="list-custom animate__animated animate__fadeIn" lines="full" *ngIf="selectedSegment === 'pending'">
		<ion-item-sliding *ngFor="let rowData of pendingDocList">
			<ion-item button detail="false" class="ion-no-padding no-ripple" (click)="goToDetail(rowData)">
				<ion-grid class="ion-no-padding py-2 pl-2">
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<ng-container *ngIf="rowData.posApprovalType === 'RF'">
								<span class="font-bold">Refund: {{rowData.posBillNum}}</span>
								<!-- <a routerLink="/rm/pos-bill" [queryParams]="{id: item.posBillId}" target="_blank">{{item.posBillNum}} <i class="pi pi-external-link" pTooltip="Browse document"></i></a> -->
							</ng-container>
						</ion-col>
					</ion-row>
					<ng-container *ngIf="rowData.posApprovalType == 'RF'">
						<ion-row>
							<ion-col class="ion-flex ion-margin-auto">
								<span class="block font-bold">Refund Amount: {{rowData.posRefundAmount|number: '1.2-2'}}</span>
							</ion-col>
						</ion-row>
						<ion-row>
							<ion-col class="ion-flex ion-margin-auto">
								<span class="block">Refund From:
									{{rowData.posRefundMethodId|idMapping:posRefundMethodMasterList}}</span>
							</ion-col>
						</ion-row>
						<ion-row>
							<ion-col class="ion-flex ion-margin-auto">
								<span class="block">Reason: {{rowData.reason}}</span>
							</ion-col>
						</ion-row>
						<ion-row>
							<ion-col class="ion-flex ion-margin-auto">
								<span class="block font-semibold" *ngIf="rowData.remark">HQ Remark: {{rowData.remark}}</span>
							</ion-col>
						</ion-row>
					</ng-container>
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<span class="ion-text-wrap badge-other px-1"><ion-icon name="calendar-number-outline"></ion-icon> {{rowData.trxDate|date:'dd/MM/yyyy'}}</span>
							<span class="ion-text-wrap badge-green px-1"><ion-icon name="person-outline"></ion-icon>{{rowData.locationCode}}</span>
							<span class="ion-text-wrap badge-purple px-1"><ion-icon name="globe-outline"></ion-icon>{{rowData.createdBy}}</span>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-item>
			<ion-item-options side="start" *ngIf="transactionProcessingCount.isAllowApprove">
				<ion-item-option color="danger" (click)="presentConfirmAlert('REJECT', rowData.posApprovalId, rowData)"><ion-icon name="close-outline" slot="bottom"></ion-icon>Reject</ion-item-option>
			</ion-item-options>
			<ion-item-options side="end" *ngIf="transactionProcessingCount.isAllowApprove">
				<ion-item-option color="success" (click)="presentConfirmAlert('CONFIRM', rowData.posApprovalId, rowData)"><ion-icon name="checkmark-outline" slot="bottom"></ion-icon>Confirm</ion-item-option>
			</ion-item-options>
		</ion-item-sliding>
	</ion-list>
	<ion-list class="list-custom animate__animated animate__fadeIn" [lines]="completedDocList?.length > 0 ? 'full' : 'none'" *ngIf="selectedSegment === 'completed'">
		<ion-item button detail="false" class="ion-no-padding no-ripple" (click)="goToDetail(rowData)" *ngFor="let rowData of completedDocList">
			<ion-grid class="ion-no-padding py-2 pl-2">
				<ion-row>
					<ion-col class="ion-flex ion-margin-auto">
						<ng-container *ngIf="rowData.posApprovalType === 'RF'">
							<span class="font-bold">Refund: {{rowData.posBillNum}}</span>
							<!-- <a routerLink="/rm/pos-bill" [queryParams]="{id: item.posBillId}" target="_blank">{{item.posBillNum}} <i class="pi pi-external-link" pTooltip="Browse document"></i></a> -->
						</ng-container>
					</ion-col>
				</ion-row>
				<ng-container *ngIf="rowData.posApprovalType == 'RF'">
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<span class="block font-bold">Refund Amount: {{rowData.posRefundAmount|number: '1.2-2'}}</span>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<span class="block">Refund From:
								{{rowData.posRefundMethodId|idMapping:posRefundMethodMasterList}}</span>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<span class="block">Reason: {{rowData.reason}}</span>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col class="ion-flex ion-margin-auto">
							<span class="block font-semibold" *ngIf="rowData.remark">HQ Remark: {{rowData.remark}}</span>
						</ion-col>
					</ion-row>
				</ng-container>
				<ion-row>
					<ion-col class="ion-flex ion-margin-auto">
						<span *ngIf="rowData.isApproved" class="ion-text-wrap badge-green px-1"><ion-icon class="ion-margin-auto" name="checkmark-outline"></ion-icon> Approved</span>
						<span *ngIf="!rowData.isApproved" class="ion-text-wrap badge-red px-1"><ion-icon class="ion-margin-auto" name="close-outline"></ion-icon> Rejected</span>
						<span class="ion-text-wrap badge-other px-1"><ion-icon name="calendar-number-outline"></ion-icon> {{rowData.trxDate|date:'dd/MM/yyyy'}}</span>
						<span class="ion-text-wrap badge-green px-1"><ion-icon name="person-outline"></ion-icon> {{rowData.locationCode}}</span>
						<span class="ion-text-wrap badge-purple px-1"><ion-icon name="globe-outline"></ion-icon> {{rowData.createdBy}}</span>
					</ion-col>
				</ion-row>
			</ion-grid>
		</ion-item>
  </ion-list>
</div>