<ion-header>
  <ion-toolbar>
    <ion-title>Check QOH</ion-title>
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/reports"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>  
  <div class="px-2 pb-2">
    <ion-searchbar #searchbar class="p-0" showCancelButton="never" animated="true" placeholder="Search for Item" enterkeyhint="search" (ionFocus)="highlight(searchbar)" (search)="search(searchbar.value, true)" (ionChange)="itemSearchText=''; objects=[]; realObject=[];"></ion-searchbar>
    <div class="prefix-css" *ngIf="realObject && realObject.length > 0">
      <ion-list-header class="ion-list-header ion-flex ion-text-center" *ngIf="!realObject || realObject?.length === 0">
        <ion-label>Nothing found!</ion-label>
      </ion-list-header>
      <ngx-datatable
      class="fullscreen material mt-2"
      [rows]="realObject" 
      [rowHeight]="'auto'" 
      [columns]="columns"
      [columnMode]="'force'" 
      [scrollbarH]="true">
        <ngx-datatable-column prop="itemCode" name="Stock" [width]="100">
          <ng-template let-row="row" ngx-datatable-cell-template>
            <div class="flex ion-text-wrap font-half-size">
              <div class="font-bold">{{row.itemCode}}</div> - {{row.itemDescription}}</div>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column prop="qoh" name="QOH" [width]="70">
          <ng-template let-row="row" ngx-datatable-cell-template>
            <div class="flex ion-text-wrap font-half-size">{{row.qoh|number:'1.0'}}</div>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column prop="price" name="Segment">
          <ng-template ngx-datatable-header-template>
            <div class="flex ion-text-wrap font-half-size">Price</div>
          </ng-template>
          <ng-template let-row="row" ngx-datatable-cell-template>
            <div class="flex ion-text-wrap font-half-size" *ngFor="let p of row.price">{{p.segmentCode}} - {{p.price|number:'1.2'}}</div>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
</ion-content>
