<ion-header>
  <ion-toolbar>
    <ion-title>Debtor Latest Outstanding</ion-title>
    <ion-buttons slot="start">
      <ion-back-button text="Back" defaultHref="/reports"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="p-2" style="overflow:auto">
    <ion-list class="list-custom" lines="none">
      <app-search-multi-dropdown title="Debtor" [showHeaderLabel]="true" [showBoldHeader]="true" [showCode]="true"  [searchDropdownList]="customerSearchDropdownList" (onActionComplete)="onCustomerSelected($event)"></app-search-multi-dropdown>
      <app-calendar-input #calendar title="Statement Date" (onDateSelected)="onDateSelected($event)"></app-calendar-input>
    </ion-list>
    <ion-button class="pt-2" expand="block" size="default" (click)="loadDebtorReport()">Search</ion-button>
    <div class="p-2">
      <table id="qtyMatrix" *ngIf="objects.length > 0">
        <tr>
          <th class="p-1 font-half-size">Debtor Name</th>
          <th class="p-1 font-half-size">Salesman Name</th>
          <th class="p-1 font-half-size">Currency</th>
          <th class="p-1 font-half-size">Outstanding</th>
          <th class="p-1 font-half-size">Statement</th>
        </tr>
        <tr *ngFor="let rowData of objects; let rowIndex = index">
          <td class="p-1 font-half-size">{{rowData.customerName}}</td>
          <td class="p-1 font-half-size">{{rowData.salesAgentName}}</td>
          <td class="p-1 font-half-size">{{rowData.currencyCode}}</td>
          <td class="p-1 font-half-size ion-text-right">{{rowData.balance|number:'1.2-2'}}</td>
          <td class="p-1 font-half-size"><ion-button fill="clear" size="small" (click)="downloadPdf(rowData.customerId)">Generate</ion-button></td>
        </tr>
      </table>
    </div>
  </div>
</ion-content>
